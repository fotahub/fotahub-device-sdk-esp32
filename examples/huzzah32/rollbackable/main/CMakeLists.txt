# CMakeLists.txt for com.fotahub.devicesdks.plainc.examples.singlechip.esp32.huzzah32.rollbackable
# Generated by FotaHub smartbase platform

set(include_dirs
    "."
    )
set(srcs
    "NVSDrv.c"
    "Main.c"
    "BinHexConverter.c"
    "DemoFOTAUpdateWorkflowNVSFlashPersistence.c"
    "DemoFOTAUpdateWorkflow.c"
    "WiFiStationDrv.c"
    "UARTDrv.c"
    "Configuration.c"
    "DemoFOTAUpdateSelfTest.c"
    "SinglePartitionDemoFirmwareUpdateInfoSerialReader.c"
    "BlinkDrv.c"
    )
idf_component_register(SRCS "${srcs}"
INCLUDE_DIRS "${include_dirs}" 
)
target_compile_options(${COMPONENT_LIB} PRIVATE 
-Wno-error=switch 
-Wno-error=unused-but-set-parameter 
-Wno-error=type-limits 
-Wno-error=array-bounds 
-Wno-error=stringop-truncation 
-Wno-error=format-truncation 
-Wno-error=format
)
if(NOT EXISTS ${FOTAHUB_INCDIR}/CMakeLists.txt)
  add_prebuilt_library(fotahub ${FOTAHUB_LIBDIR}/libfotahub.a PRIV_REQUIRES app_update mbedtls)
  target_link_libraries(${COMPONENT_LIB} PUBLIC fotahub)
  target_include_directories(${COMPONENT_LIB} PUBLIC ${FOTAHUB_INCDIR})
endif()
